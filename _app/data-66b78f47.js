import{w as t}from"./navigation-45445ee9.js";const e=[],r=/\r?\n/,s=(()=>{const{subscribe:s,set:i}=t(e);return{subscribe:s,reset:()=>i(e),load:async({fetch:t})=>{let e=await new Promise(s);if(!e||0===e.length){const s=await t("/boty/products.csv"),a=await s.text(),[n,...o]=a.split(r),c=n.split("|").map((t=>t.trim())),l=await t("/boty/stock.csv"),p=(await l.text()).split(r).filter((t=>t)).reduce(((t,e)=>{const[r,s]=e.split("|");return t[r]=Object.fromEntries(s.split(",").map((t=>{const[e,r]=t.split(":"),s=Number((r||"").trim());return s?[e.trim(),s]:null})).filter((t=>t))),t}),{});e=o.filter((t=>t)).map((t=>t.split("|").map((t=>t.trim())))).map((t=>((t,e)=>{const r={};for(let s=0;s<t.length;s++)r[e[s]]=t[s];return r})([...t,p[t[0]]||{}],[...c,"stock"]))),i(e)}return e},set:i}})();export{s as b};
//# sourceMappingURL=data-66b78f47.js.map
